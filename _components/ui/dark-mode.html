<!-- [START] HTML Dark Mode Toggle -->
<label class="toggle-group">
	<!-- Hidden checkbox -->
	<input type="checkbox" class="peer sr-only" id="theme-toggle" />

	<!-- Toggle track -->
	<div class="toggle-track"></div>

	<!-- Toggle knob -->
	<span class="toggle-circle"></span>
</label>
<!-- [END] HTML Dark Mode Toggle  -->

<!-- [START] CSS Dark Mode Toggle -->
<style>
	@custom-variant dark (&:where(.dark, .dark *));

	/* Toggle Input */
	.toggle-group {
		@apply relative inline-flex cursor-pointer items-center;
	}
	.toggle-track {
		@apply peer-checked:bg-primary h-6 w-11 rounded-full bg-gray-200 transition-colors;
	}
	.toggle-circle {
		@apply absolute top-0.5 left-0.5 h-5 w-5 rounded-full border border-gray-300 bg-white transition-transform peer-checked:translate-x-5 peer-checked:border-white;
	}
</style>
<!-- [START] CSS Dark Mode Toggle -->

<!-- [START] JavaScript Dark Mode Toggle -->
<script>
	function initThemeToggle() {
		const checkbox = document.getElementById("theme-toggle")
		const html = document.documentElement

		function setTheme(mode) {
			if (mode === "dark") {
				html.classList.add("dark")
				localStorage.setItem("theme", "dark")
				checkbox.checked = true
			} else {
				html.classList.remove("dark")
				localStorage.setItem("theme", "light")
				checkbox.checked = false
			}
		}

		// Apply theme on page load
		const stored = localStorage.getItem("theme")
		if (stored) {
			setTheme(stored)
		} else {
			const prefersDark = window.matchMedia(
				"(prefers-color-scheme: dark)",
			).matches
			setTheme(prefersDark ? "dark" : "light")
		}

		// Toggle theme on user interaction
		checkbox.addEventListener("change", () => {
			setTheme(checkbox.checked ? "dark" : "light")
		})
	}

	initThemeToggle()
</script>
<!-- [START] JavaScript Dark Mode Toggle -->
