<!-- [START] HTML Drawer -->
<!-- Drawer -->
<div class="relative">
	<!-- Drawer Overlay -->
	<div id="overlay" class="drawer-overlay"></div>

	<!-- Drawer Content -->
	<div id="drawer" class="drawer drawer-left">
		<div class="p-4">
			<!-- Header & Close -->
			<div class="flex items-center justify-between gap-3">
				<h2 class="text-primary font-bold">Drawer Menu</h2>

				<button id="close-drawer" class="drawer-close-btn">X</button>
			</div>
			<ul class="mt-10 space-y-2">
				<li>
					<a href="#" class="text-theme-primary hover:underline">Home</a>
				</li>
				<li>
					<a href="#" class="text-theme-primary hover:underline">About</a>
				</li>
				<li>
					<a href="#" class="text-theme-primary hover:underline">Services</a>
				</li>
				<li>
					<a href="#" class="text-theme-primary hover:underline">Contact</a>
				</li>
			</ul>
		</div>
	</div>

	<!-- Drawer Trigger -->
	<div class="container mx-auto p-4">
		<button
			class="drawer-trigger bg-primary hover:bg-primary/90 rounded px-4 py-2 text-white"
		>
			Toggle Drawer
		</button>
	</div>
</div>
<!-- [END] HTML Drawer -->

<!-- [START] CSS Drawer -->
<style>
	/* Drawer */
	.drawer-overlay {
		@apply invisible fixed inset-0 z-10 bg-black/50 opacity-0 transition-opacity duration-300 [.active]:visible [.active]:opacity-100;
	}
	.drawer {
		@apply fixed top-0 z-20 h-full w-64 transform bg-white shadow-lg transition-transform duration-300 ease-in-out;
	}
	.drawer-left {
		@apply left-0 -translate-x-full [.active]:translate-x-0;
	}
	.drawer-right {
		@apply right-0 translate-x-full [.active]:translate-x-0;
	}
	.drawer-close-btn {
		@apply bg-primary flex size-8 items-center justify-center rounded p-2 text-sm text-white;
	}
</style>
<!-- [END] CSS Drawer -->

<!-- [START] JavaScript Drawer -->
<script>
	function initDrawer(drawerTriggerClass, drawerId, overlayId) {
		const toggleButtons = document.querySelectorAll(`.${drawerTriggerClass}`)
		const drawer = document.getElementById(drawerId)
		const overlay = document.getElementById(overlayId)
		const closeButton = document.getElementById("close-drawer")
		let isOpen = false

		if (!drawer || !overlay || !toggleButtons.length) return

		function openDrawer() {
			isOpen = true
			drawer.classList.add("active")
			overlay.classList.add("active")
		}

		function closeDrawer() {
			isOpen = false
			drawer.classList.remove("active")
			overlay.classList.remove("active")
		}

		toggleButtons.forEach((button) => {
			if (!button.dataset.originalText) {
				button.dataset.originalText = button.textContent
			}
			button.addEventListener("click", () => {
				if (isOpen) {
					closeDrawer()
				} else {
					openDrawer()
				}
			})
		})

		if (closeButton) {
			closeButton.addEventListener("click", closeDrawer)
		}

		overlay.addEventListener("click", closeDrawer)

		document.addEventListener("keydown", (event) => {
			if (event.key === "Escape" && isOpen) {
				closeDrawer()
			}
		})
	}

	// Initialize drawer
	initDrawer("drawer-trigger", "drawer", "overlay")
</script>

<!-- [END] JavaScript Drawer -->
