<!-- [START] HTML Accordion -->
<div class="accordion">
	<!-- Accrodion Item -->
	<div class="accordion-item group">
		<!-- Accrodion Trigger -->
		<button class="accordion-trigger">
			<span class="accordion-trigger-text">Accordion Trigger</span>
			<!-- Icon -->
			<div class="flex">
				<!-- Arrow Icon -->
				<svg
					class="accordion-icon-img"
					viewBox="0 0 13 8"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				>
					<path
						d="M6.50004 7.59904C6.36115 7.59904 6.22643 7.573 6.09587 7.52091C5.96532 7.46883 5.85698 7.39939 5.77087 7.31258L0.979207 2.52091C0.788235 2.32994 0.692749 2.08689 0.692749 1.79175C0.692749 1.49661 0.788235 1.25355 0.979207 1.06258C1.17018 0.871609 1.41324 0.776123 1.70837 0.776123C2.00351 0.776123 2.24657 0.871609 2.43754 1.06258L6.50004 5.12508L10.5625 1.06258C10.7535 0.871609 10.9966 0.776123 11.2917 0.776123C11.5868 0.776123 11.8299 0.871609 12.0209 1.06258C12.2118 1.25355 12.3073 1.49661 12.3073 1.79175C12.3073 2.08689 12.2118 2.32994 12.0209 2.52091L7.22921 7.31258C7.12504 7.41675 7.01219 7.49071 6.89067 7.53446C6.76914 7.57821 6.63893 7.59973 6.50004 7.59904Z"
						class="fill-current"
					/>
				</svg>
				<!-- Plus icon -->
				<div class="w-3">
					<span
						class="bg-primary flex h-[2px] translate-y-[2px] rotate-90 transition-transform group-[.active]:rotate-0"
					></span>
					<span class="bg-primary flex h-[2px]"></span>
				</div>
			</div>
		</button>

		<!-- Accrodion Content -->
		<div class="accordion-content">
			<div class="overflow-hidden">
				<p class="p-4 text-left">
					Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem,
					minus? Lorem ipsum, dolor sit amet consectetur adipisicing elit.
					Autem, minus?Lorem ipsum, dolor sit amet consectetur adipisicing elit.
					Autem, minus?Lorem ipsum, dolor sit amet consectetur adipisicing elit.
					Autem, minus?Lorem ipsum, dolor sit amet consectetur adipisicing elit.
					Autem, minus?Lorem ipsum, dolor sit amet consectetur adipisicing elit.
					Autem, minus?Lorem ipsum, dolor sit amet consectetur adipisicing elit.
					Autem, minus?
				</p>
			</div>
		</div>
	</div>
</div>
<!-- [END] HTML Accordion -->

<!-- [START] CSS Accordion -->
<style>
	/* Accordion */
	.accordion {
		@apply grid gap-4;
	}
	.accordion-item {
		@apply border-primary/50 grid flex-col border;
	}
	.accordion-trigger {
		@apply flex w-full cursor-pointer items-center justify-between overflow-hidden p-2;
	}
	.accordion-trigger-text {
		@apply text-primary font-medium;
	}
	.accordion-icon-img {
		@apply h-2 w-4 transition-transform duration-300 group-[.active]:rotate-180;
	}
	.accordion-content {
		@apply grid grid-rows-[0fr] transition-all duration-500 group-[.active]:grid-rows-[1fr];
	}
</style>
<!-- [END] CSS Accordion -->

<!-- [START] JavaScript Accordion -->
<script>
	// Initialize accordion functionality
	function initializeAccordion() {
		// Select the accordion container (assuming items are inside a common parent)
		const accordion = document.querySelector(".accordion")
		const accordionItems = document.querySelectorAll(".accordion-item")

		// Exit if no accordion container or items are found
		if (!accordion || !accordionItems.length) return

		// Set initial state for all accordion items
		accordionItems.forEach((item) => {
			const content = item.querySelector(".accordion-content")
			const trigger = item.querySelector(".accordion-trigger")

			if (!content || !trigger) return

			// Set ARIA attributes for accessibility
			trigger.setAttribute("aria-expanded", item.classList.contains("active"))
			content.setAttribute("aria-hidden", !item.classList.contains("active"))

			// Ensure content has active class if item is active
			if (item.classList.contains("active")) {
				content.classList.add("active")
			}
		})

		// Use event delegation for accordion triggers
		accordion.addEventListener("click", (event) => {
			const trigger = event.target.closest(".accordion-trigger")
			if (!trigger) return // Exit if not a trigger

			const parent = trigger.closest(".accordion-item")
			if (!parent) return // Exit if no parent item

			const content = parent.querySelector(".accordion-content")
			if (!content) return

			// Toggle active state
			const isOpening = !parent.classList.contains("active")
			parent.classList.toggle("active")
			content.classList.toggle("active")

			// Update ARIA attributes
			trigger.setAttribute("aria-expanded", isOpening)
			content.setAttribute("aria-hidden", !isOpening)

			// Optional: Close other items if only one should be open
			/*
		if (isOpening) {
			document.querySelectorAll(".accordion-item").forEach((otherItem) => {
				if (otherItem !== parent && otherItem.classList.contains("active")) {
					otherItem.classList.remove("active");
					const otherContent = otherItem.querySelector(".accordion-content");
					const otherTrigger = otherItem.querySelector(".accordion-trigger");
					if (otherContent && otherTrigger) {
						otherContent.classList.remove("active");
						otherTrigger.setAttribute("aria-expanded", "false");
						otherContent.setAttribute("aria-hidden", "true");
					}
				}
			});
		}
		*/
		})

		// Add keyboard support for accessibility
		accordion.addEventListener("keydown", (event) => {
			if (event.key === "Enter" || event.key === " ") {
				const trigger = event.target.closest(".accordion-trigger")
				if (!trigger) return

				event.preventDefault() // Prevent default scrolling for spacebar
				trigger.click() // Simulate click to reuse logic
			}
		})
	}
	initializeAccordion()
</script>
<!-- [END] JavaScript Accordion -->
